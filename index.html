<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Cake</title>

    <!-- swiper link  -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- cdn icon link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- custom css file  -->
    <link rel="stylesheet" href="style.css">

</head>

<body>
<style>
.icon{
	display:flex;
}
.icon h4{
	font-size:18px;
	color:red;
}
.hidden {
  display: none;
}

#orderForm {
  display: none;
  position:fixed;
  z-index:999;
  top:10px;
  left:40%;
  padding: 20px;
  width:350px;
  background-color: #f9f9f9;
  border: 1px solid #ddd;
  box-shadow:0 10px 20px rgba(0,0,0,0.2);
}

#orderForm h3 {
  margin: 0 0 10px;
}

#orderForm input[type="text"],
#orderForm button[type="submit"] {
  display: block;
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
}

#orderForm input[type="text"] {
  border: 1px solid #ccc;
}

#orderForm button[type="submit"] {
  background-color: #4caf50;
  color: white;
  border: none;
}

#orderForm button[type="submit"]:hover {
  background-color: #45a049;
}

.fa-times{
	position:absolute;
	top:23px;
	right:21px;
	color:red;
	cursor:pointer;
}
 .blogs-row {
      width: 100%;
    }
@media (max-width:400px){    
	#orderForm {
    left:10%;
    top:12%;
    width:300px;
  }
  .icon h4{
	font-size:15px;
	margin-right:15px;
	color:red;
   }
}
</style>
    <!-- header section start here  -->
    <header class="header">
        <div class="logoContent">
            <a href="#" class="logo"><img src="images/logo.png" alt=""></a>
            <h1 class="logoName">Sweet Cake </h1>
        </div>

        <nav class="navbar">
            <a href="#home">home</a>
            <a href="#product">product</a>
            <a href="#blogs">blogs</a>
            <a href="#review">review</a>
            <a href="#contact">contact</a>
        </nav>

        <div class="icon">
           <i class="fas fa-user" id="loginto"></i>
			<h4 id="nameofUser"></h4>
			<h4 id="emailofUser" style="text-transform: lowercase; display:none;"></h4>
            <i class="fas fa-bars" id="menu-bar"></i>
        </div>

        <div class="search">
            <input type="search" placeholder="search...">
        </div>
    </header>
<script>
var logintoIcon = document.getElementById("loginto");
logintoIcon.addEventListener("click", function() {
  var urlParams = new URLSearchParams(window.location.search);
  var loginSuccessful = urlParams.get('loginSuccessful') === 'true';

  if (loginSuccessful) {
    // Remove loginSuccessful=true and objectId from the URL
    var url = window.location.href.replace('?loginSuccessful=true&objectId=', '');

    // Reset the color of the icon to black
    logintoIcon.style.color = "black";

    // Show a logout alert message
    alert("You have been successfully logged out.");

    // Redirect to index.html after a short delay
    setTimeout(function() {
      window.location.href = "index.html";
    }, 1000); // Delay of 2 seconds before redirecting (adjust as needed)
  } else {
    // User is not logged in, redirect to login page
    window.location.href = "login.html";
  }
});


var urlParams = new URLSearchParams(window.location.search);
var loginSuccessful = urlParams.get('loginSuccessful') === 'true';
if (loginSuccessful) {

  logintoIcon.style.color = "red";
 }



///////
async function fetchUserData() {

const nameofUser = document.getElementById("nameofUser");
const emailofUser = document.getElementById("emailofUser");
  try {
  
    var urlParams = new URLSearchParams(window.location.search);
    var objectId = urlParams.get('objectId');

    const response = await fetch('https://backend-for-experiences.onrender.com/users/' + objectId);
    if (!response.ok) {
      throw new Error('Error fetching user data');
    }

    const data = await response.json();
	nameofUser.innerHTML = `${data.name}`;
	emailofUser.innerHTML = `${data.email}`;
	
    console.log(data);
	
  } catch (error) {
    console.error('Error:', error);
    
  }
}


fetchUserData();

</script>


    <!-- home section start here  -->
    <section class="home" id="home">
        <div class="homeContent">
            <h2>Delicious Cake for Everyone </h2>
            <p>Indulge in this pleasure where every bite unveils a symphony
			of flavors that tantalize your taste buds. </p>
			<p id="hidden1" class="hidden">This delectable treat is a guaranteed source of joy and satisfaction for all cake enthusiasts.</p>
				<div class="home-btn">
					<button id="seemore1">see more</button>
				</div>

        </div>
    </section>
	
<script>
// Get the hidden content element and the "see more" button
var hiddenContent = document.getElementById("hidden1");
var seeMoreButton = document.getElementById("seemore1");

// Add event listener to the "see more" button
seeMoreButton.addEventListener("click", function() {
  // Toggle the visibility of the hidden content
  hiddenContent.classList.toggle("hidden");
  
  // Change the button text based on the visibility of the hidden content
  if (hiddenContent.classList.contains("hidden")) {
    seeMoreButton.textContent = "see more";
  } else {
    seeMoreButton.textContent = "see less";
  }
});
</script>
    <!-- home section end here  -->

    <!-- product section start here  -->
    <section class="product" id="product">
        <div class="heading">
            <h2>Our Exclusive Products</h2>
        </div>
        <div class="swiper product-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button class="orderButton">Order Now</button>
							</div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake2.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>

            </div>
            <div class="swiper-pagination"></div>
        </div>
        <div class="swiper product-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake1.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolatto</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="images/cake2.png" alt="">
                    </div>
                    <div class="product-content">
                        <h3>Chocolate</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
						<button class="orderButton">Order Now</button>
                        </div>
                    </div>
                </div>

            </div>
            <div class="swiper-pagination"></div>
        </div>
    </section>
	
<!-- Hidden form -->
<div id="orderForm" style="display: none;">
  <h3>Order Form</h3>
  <i class="fas fa-times" id="crosssymbolone"></i>
  <form id="orderFormSubmit">
    <label>Item name:</label>
    <input type="text" id="itemName" disabled>
	<label>User name:</label>
    <input type="text" id="userName" disabled>
	<label>User email:</label>
    <input type="text" id="userEmail2" disabled>
	<label>Phone Number:</label>
	<input type="text" id="userNumber" placeholder="Your Phone Number" required>
	<label>Address:</label>
    <input type="text" id="userAddress" placeholder="Your Address" required>
    <button type="submit">Submit</button>
  </form>
</div>

<script>
var orderForm = document.getElementById("orderForm");
var itemNameInput = document.getElementById("itemName");
var userNameInput = document.getElementById("userName");
var userAddressInput = document.getElementById("userAddress");
var userEmailInput = document.getElementById("userEmail2");
var userPhoneInput = document.getElementById("userNumber");
var orderFormSubmit = document.getElementById("orderFormSubmit");
var nameofUser = document.getElementById("nameofUser");

var orderButtons = document.getElementsByClassName("orderButton");

for (var i = 0; i < orderButtons.length; i++) {
  orderButtons[i].addEventListener("click", function() {
    var productContainer = this.closest(".swiper-slide");
    var productName = productContainer.querySelector("h3").textContent;
	
	var userNames = document.getElementById("nameofUser").textContent;
    var userEmails = document.getElementById("emailofUser").textContent.toLowerCase();
    
  
    var isLoggedIn = nameofUser.textContent.trim() !== "";

    if (isLoggedIn) {
      orderForm.style.display = "block";
      itemNameInput.value = productName;
	  userNameInput.value = userNames;
	  userEmailInput.value = userEmails;
    } else {
      alert("Please login first."); // Display alert if user is not logged in
    }
  });
}

orderFormSubmit.addEventListener("submit", function(event) {
  event.preventDefault(); // Prevent default form submission

  if (userPhoneInput.value === "" || userAddressInput.value === "") {
    alert("Please fill in all fields.");
    return;
  }

  var formData = {
    itemName: itemNameInput.value,
    userName: userNameInput.value,
    userAddress: userAddressInput.value,
    userEmail: userEmailInput.value ,
	phone: userPhoneInput.value,
  };

  fetch("https://backend-for-experiences.onrender.com/submit-order", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(formData)
  })
  .then(function(response) {
    if (response.ok) {
      alert("Order submitted successfully.");
	   orderForm.style.display = "none";
    } else {
      alert("Error submitting order.");
    }
  })
  .catch(function(error) {
    alert("Error submitting order.");
    console.error(error);
  });
});

var crosssymbolone = document.getElementById("crosssymbolone");
crosssymbolone.addEventListener("click", function() {
  orderForm.style.display = "none";
});

</script>
    <!-- product section end here  -->

    <!-- blogs section start here  -->
    <section class="blogs" id="blogs">

        <div class=" swiper blogs-row">
            <div class="swiper-wrapper">
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="images/blog-img1.png" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="images/blog-img2.png" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="images/blog-img2.png" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-pagination"></div>

        </div>
    </section>

    <!-- blogs section ends here  -->

    <!-- newsletter section start here  -->

    <section class="newsletter">
        <form action="">
            <h3>subscribe for latest update</h3>
            <input type="email" name="" placeholder="enter your email" id="" class="box">
            <input type="button" value="subscribe" class="box2">
        </form>
    </section>
    <!-- newsletter section ends here  -->

    <!-- review section start here  -->
    <section class="review" id="review">
        <div class="heading">
            <h2>client review</h2>
        </div>


        <div class=" swiper review-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Wajih ul Hassan</h3>
                            <p>UI / UX designer</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Wajih ul Hassan</h3>
                            <p>UI / UX designer</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Wajih ul Hassan</h3>
                            <p>UI / UX developer</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>

            </div>
        </div>
    </section>
    <!-- review section ends here  -->

    <!-- footer section start here  -->

    <footer class="footer" id="contact">
        <div class="box-container">
            <div class="mainBox">
                <div class="content">
                    <a href="#"><img src="images/logo.png" alt=""></a>
                    <h1 class="logoName"> Sweet Cake </h1>
                </div>

                <p>Indulge in this pleasure where every bite unveils a symphony
			of flavors that tantalize your taste buds.</p>

            </div>
            <div class="box">
                <h3>Quick link</h3>
                <a href="#"> <i class="fas fa-arrow-right"></i>Home</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>product</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>blogs</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>review</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>contact</a>

            </div>
            <div class="box">
                <h3>Extra link</h3>
                <a href="#"> <i class="fas fa-arrow-right"></i>Account info</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>order item</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>privacy policy</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>payment method</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>our  services</a>
            </div>
            <div class="box">
                <h3>Contact Info</h3>
                <a href="#"> <i class="fas fa-phone"></i>+91 12222 34444</a>
                <a href="#"> <i class="fas fa-envelope"></i>wajih786hassan@gmail.com</a>

            </div>

        </div>
        <div class="share">
            <a href="#" class="fab fa-facebook-f"></a>
            <a href="#" class="fab fa-twitter"></a>
            <a href="#" class="fab fa-instagram"></a>
            <a href="#" class="fab fa-linkedin"></a>
            <a href="#" class="fab fa-pinterest"></a>
        </div>
        <div class="credit">
            created by <span>Wajih ul Hassan </span> |all rights reserved ! 
        </div>
    </footer>










    <!-- swiper js link  -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>


    <!-- custom js file  -->
    <script src="index.js"></script>


</body>

</html>